<div class="category" class:open="item.id == currentExpand"> 
	<div class="clickable category-title">
		<a href="{ item.path }">{item.title}</a>
		<div class="chevron icon-angle-left" on:click="set({ currentExpand: currentExpand == item.id ? -1 : item.id })"></div>
	</div>
	{#if currentExpand == item.id}
		<div class="expand" transition:slide>
			<slot></slot>
		</div>
	{/if}
</div>

<script>
	import slide from 'svelte-transitions-slide'

	export default {
		transitions: { slide }
	}
</script>

<style>

	@import 'colors';

	.expand a {
		border: 0;
		background: $blue2;
	}

	.category.open .chevron {
		transform: rotate(90deg);
	}

	.category-title {
		position:relative;

		.chevron {
			display: block;
			position:absolute;
			top: 0; 
			right:0;
			width: 50px;
			height: 50px;
			font-size: 28px;
			line-height: 50px;
			text-align: center;
			transition: transform .2s ease-out;
			transform: rotate(270deg);
		}

		.chevron::before {
			margin-left: -2px;
		}
	}

	.clickable {
		cursor: pointer; 
	}

</style>
